<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>Three.js</title>
<link rel="stylesheet" type="text/css" href="1.css">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script type="text/javascript" src="1.js"></script>
</head>
<body>
<h2 class=head1>Звуковое сопровождение</h2>
<div class=below>В этом разделе описаны основные объекты звукового сопровождения библиотеки <em>three.js</em>.
<div class=list><a href="#1">Audio</a> - создает глобальный, т.е. не имеющий конкретного расположения, аудио объект.</div>
<div class=list><a href="#2">AudioAnalyser</a> - объект для анализа аудиоданных AnalyserNode</div>
<div class=list><a href="#3">AudioContext</a> - методы для настройки <a href="https://developer.mozilla.org/ru/docs/Web/API/AudioContext" target="_blank">AudioContext</a>.</div>
<div class=list><a href="#4">AudioListener</a> - представляет виртуального слушателя всех звуковых эффектов на сцене, как имеющих определенное положение, так и не имеющих такового.</div>
<div class=list><a href="#5">PositionalAudio</a> - создает позиционированный аудиообъект (т.е. источник звука, имеющий конкретное расположение).</div>
</div><br>
<span class="right_side"><a href="core.htm#14" title="Переход к родительскому классу"><tt>Object3D &rarr;</tt></a></span>
<h3 id="1">Audio</h3>
Создает глобальный, т.е. не имеющий конкретного расположения, аудио объект.<br>
Для его работы используется <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a>.
Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a> на русском языке.<br><br>
<h4>Пример</h4>
<pre>// Create an AudioListener and add it to the camera
// создаем AudioListener и добавляем его к камере
var listener = new THREE.AudioListener();
camera.add( listener );<br>
// create a global audio source (создаем глобальный аудиоисточник)
var sound = new THREE.Audio( listener );<br>
// Load a sound and set it as the Audio object's buffer
// загружаем звук и устанавливаем его как буфер объекта Audio
var audioLoader = new THREE.AudioLoader();
audioLoader.load( 'sounds/ambient.ogg', function( buffer ) {
	sound.setBuffer( buffer );
	sound.setLoop(true);
	sound.setVolume(0.5);
	sound.play();
});</pre>
<h5>Другие примеры:</h5>
<pre><a href="https://threejs.org/examples/#webaudio_sandbox" target="_blank">webaudio / sandbox</a>
<a href="https://threejs.org/examples/#webaudio_visualizer" target="_blank">webaudio / visualizer</a></pre><br>

<h4>Конструктор</h4>
<pre>Audio( <a href="#4" onmouseover="show('AudioListener.<br>listener - слушатель, приемник');" onmouseout="hide()">listener</a> )</pre>
<div class=list><tt>listener</tt> — экземпляр <tt><a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">AudioListener</a></tt> (этот аргумент обязателен).</div><br>

<h4>Свойства</h4>
<div class=blockindent><br>
<pre id="1autoplay"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('autoplay - автозапуск,<br>автоматическое воспроизведение');" onmouseout="hide()">.autoplay</a></span></pre>
Свойство определяет, будет ли звуковое сопровождение запускаться автоматически. Значением по умолчанию является <tt>false</tt>.<br><br>
<pre id="1context"><a href="#3" onmouseover="show('AudioContext');" onmouseout="hide()">.context</a></pre>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext" target="_blank">AudioContext</a> для <a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">listener</a>, заданного в конструкторе.
Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/AudioContext" target="_blank">AudioContext</a> на русском языке.<br><br>
<pre id="1filters"><span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('filters - фильтры');" onmouseout="hide()">.filters</a></span></pre>
Свойство определяет, воспроизводится ли звук в настоящий момент. Значением по умолчанию является пустой массив.<br><br>
<pre id="1gain"><span onclick="showClick('GainNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('gain - усиление, увеличение');" onmouseout="hide()">.gain</a></span></pre>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/GainNode" target="_blank">GainNode</a> созданный при помощи метода <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createGain" target="_blank">AudioContext.createGain</a>().<br><br>
<pre id="1hasPlaybackControl"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('has playback control - имеется управление воспроизведением');" onmouseout="hide()">.hasPlaybackControl</a></span></pre>
Можно ли управлять воспроизведением при помощи <tt><a href="#1play" onmouseover="show('Audio.play');" onmouseout="hide()">play</a>()</tt>, <tt><a href="#1pause" onmouseover="show('Audio.pause');" onmouseout="hide()">pause</a>()</tt> и т.п. методами. Значением по умолчанию является <tt>true</tt>.<br><br>
<pre id="1isPlaying"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('is playing - есть воспроизведение');" onmouseout="hide()">.isPlaying</a></span></pre>
Свойство показывает, воспроизводится ли звук в данный момент.<br><br>
<pre id="1offset"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('offset - смещение');" onmouseout="hide()">.offset</a></span></pre>
Смещение времени внутри аудиобуфера, с которого должно начаться воспроизведение.
Это тоже самое, что и параметр <tt>offset</tt> из <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/start" target="_blank">AudioBufferSourceNode.start</a></tt>.
Значение по умолчанию равно <tt>0</tt>.<br><br>
<pre id="1playbackRate"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('playback rate - множитель (скорости) воспроизведения');" onmouseout="hide()">.playbackRate</a></span></pre>
Множитель скорости воспроизведения. Значение по умолчанию равно <tt>1</tt>.<br><br>
<pre id="1startTime"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('start time - время запуска');" onmouseout="hide()">.startTime</a></span></pre>
Момент, с которого начинается воспроизведение звука. Значение по умолчанию равно <tt>0</tt>.<br><br>
<pre id="1source"><span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('source - источник');" onmouseout="hide()">.source</a></span></pre>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode" target="_blank">AudioBufferSourceNode</a> созданный при помощи метода <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createBufferSource" target="_blank">AudioContext.createBufferSource</a>().<br><br>
<pre id="1sourceType"><span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('source type - тип источника');" onmouseout="hide()">.sourceType</a></span></pre>
Тип источника звука. Значением по умолчанию является строка <span class="lnk" onmouseover="show('empty - пусто');" onmouseout="hide()">'<tt>empty</tt>'</span>.<br><br>
<pre id="1type"><span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('type - тип');" onmouseout="hide()">.type</a></span></pre>
Строковое значение, обозначающее тип установленного '<tt>Audio</tt>'.</div><br>

<h4>Методы</h4>
<div class=blockindent><br>
<pre id="1connect"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('connect - подключить');" onmouseout="hide()">.connect</a></span>()</pre>
Подключение к <tt><a href="#1source" onmouseover="show('Audio.source');" onmouseout="hide()">Audio.source</a></tt>. Использование метода внутреннее при инициализации и при установке / удалении фильтров.<br><br>
<pre id="1disconnect"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('disconnect - отключить');" onmouseout="hide()">.disconnect</a></span>()</pre>
Отключение от <tt><a href="#1source" onmouseover="show('Audio.source');" onmouseout="hide()">Audio.source</a></tt>. Использование метода внутреннее при установке / удалении фильтров.<br><br>
<pre id="1getFilter"><span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get filter - получить фильтр');" onmouseout="hide()">.getFilter</a></span>()</pre>
Возвращает первый элемент из массива <tt><a href="#1filters" onmouseover="show('Audio.filters');" onmouseout="hide()">filters</a></tt>.<br><br>
<pre id="1getFilters"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get filters - получить фильтры');" onmouseout="hide()">.getFilters</a></span>()</pre>
Возвращает массив <tt><a href="#1filters" onmouseover="show('Audio.filters');" onmouseout="hide()">filters</a></tt>.<br><br>
<pre id="1getLoop"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get loop - получить цикл');" onmouseout="hide()">.getLoop</a></span>()</pre>
Возвращает значение свойства <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/loop" target="_blank">source.loop</a></tt> (свойство определяет, зациклено ли воспроизведение).<br><br>
<pre id="1getOutput"><span onclick="showClick('GainNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get output - получить выход');" onmouseout="hide()">.getOutput</a></span>()</pre>
Возвращает <tt><a href="#1gain" onmouseover="show('Audio.gain');" onmouseout="hide()">gainNode</a></tt>.<br><br>
<pre id="1getPlaybackRate"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get playback rate - получить<br>множитель (скорости) воспроизведения');" onmouseout="hide()">.getPlaybackRate</a></span>()</pre>
Возвращает значение <tt><a href="#1playbackRate" onmouseover="show('Audio.playbackRate');" onmouseout="hide()">playbackRate</a></tt>.<br><br>
<pre id="1getVolume"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get volume - получить громкость');" onmouseout="hide()">.getVolume</a></span>( value )</pre>
Возвращает текущее значение громкости.<br><br>
<pre id="1play"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('play - играть');" onmouseout="hide()">.play</a></span>()</pre>
Если свойство <tt><a href="#1hasPlaybackControl" onmouseover="show('Audio.hasPlaybackControl');" onmouseout="hide()">hasPlaybackControl</a></tt> установлено как <tt>true</tt>, то этот метод запускает воспроизведение.<br><br>
<pre id="1pause"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('pause - пауза');" onmouseout="hide()">.pause</a></span>()</pre>
Если свойство <tt><a href="#1hasPlaybackControl" onmouseover="show('Audio.hasPlaybackControl');" onmouseout="hide()">hasPlaybackControl</a></tt> установлено как <tt>true</tt>, то этот метод приостанавливает воспроизведение, т.е. переводит в режим "пауза".<br><br>
<pre id="1onEnded"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on ended - по окончании');" onmouseout="hide()">.onEnded</a></span>()</pre>
Вызывается автоматически по окончании воспроизведения. Устанавливает свойство <tt><a href="#1isPlaying" onmouseover="show('Audio.isPlaying');" onmouseout="hide()">isPlaying</a></tt> как <tt>false</tt>.<br><br>
<pre id="1setBuffer"><a href="#1" onmouseover="show('Audio. set buffer - установить буфер');" onmouseout="hide()">.setBuffer</a>( audioBuffer )</pre>
Устанавливает <tt><a href="#1source" onmouseover="show('Audio.source');" onmouseout="hide()">source</a></tt> в <tt>audioBuffer</tt>, и назначает <tt><a href="#1sourceType" onmouseover="show('Audio.sourceType');" onmouseout="hide()">sourceType</a></tt> в <tt>buffer</tt>.<br>
Кроме этого запускает воспроизведение, если свойство <tt><a href="#1autoplay" onmouseover="show('Audio.autoplay');" onmouseout="hide()">autoplay</a></tt> установлено как <tt>true</tt>.<br><br>
<pre id="1setFilter"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set filter - установить фильтр');" onmouseout="hide()">.setFilter</a></span>( filter )</pre>
Добавляет фильтр в массив <tt><a href="#1filters" onmouseover="show('Audio.filters');" onmouseout="hide()">filters</a></tt>.<br><br>
<pre id="1setFilters"><a href="#1" onmouseover="show('Audio.<br>set filters - установить фильтры');" onmouseout="hide()">.setFilters</a>( <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
<div class=list><tt>value</tt> - массив из фильтров.</div>
Устанавливает в качестве массива <tt><a href="#1filters" onmouseover="show('Audio.filters');" onmouseout="hide()">filters</a></tt> массив, приведенный в параметре <tt>value</tt>.<br><br>
<pre id="1setLoop"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set loop - установить цикл');" onmouseout="hide()">.setLoop</a></span>( <span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает свойство <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode/loop" target="_blank">source.loop</a></tt> в состояние, указанное в <tt>value</tt> (будет ли зациклено ли воспроизведение).<br><br>
<pre id="1setNodeSource"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set node source - установить источник узла');" onmouseout="hide()">.setNodeSource</a></span>( audioNode )</pre>
Устанавливает <tt><a href="#source" onmouseover="show('Audio.source');" onmouseout="hide()">source</a></tt> в <tt>audioBuffer</tt>, и назначает <tt><a href="#1sourceType" onmouseover="show('Audio.sourceType');" onmouseout="hide()">sourceType</a></tt> в <tt>audioNode</tt>.<br>
Также устанавливает <tt><a href="#1hasPlaybackControl" onmouseover="show('Audio.hasPlaybackControl');" onmouseout="hide()">hasPlaybackControl</a></tt> как	<tt>false</tt>.<br><br>
<pre id="1setPlaybackRate"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set playback rate - установка<br>множителя (скорости) воспроизведения');" onmouseout="hide()">.setPlaybackRate</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Если <tt><a href="#1hasPlaybackControl" onmouseover="show('Audio.hasPlaybackControl');" onmouseout="hide()">hasPlaybackControl</a></tt> включен, то свойство <tt><a href="#1playbackRate" onmouseover="show('Audio.playbackRate');" onmouseout="hide()">playbackRate</a></tt> устанавливается как <tt>value</tt>.<br><br>
<pre id="1setVolume"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set volume - установка громкости');" onmouseout="hide()">.setVolume</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает уровень громкости.<br><br>
<pre id="1stop"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('stop - стоп, остановка');" onmouseout="hide()">.stop</a></span>()</pre>
Если <tt><a href="#1hasPlaybackControl" onmouseover="show('Audio.hasPlaybackControl');" onmouseout="hide()">hasPlaybackControl</a></tt> включен,
то воспроизведение останавливается, <tt><a href="#1startTime" onmouseover="show('Audio.startTime');" onmouseout="hide()">startTime</a></tt> сбрасывается в <tt>0</tt>,
а <tt><a href="#1isPlaying" onmouseover="show('Audio.isPlaying');" onmouseout="hide()">isPlaying</a></tt> устанавливается как <tt>false</tt>.</div><br>
<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/src/audio/Audio.js" target="_blank">Audio.js на github.com</a></div><br>


<h3 id="2">AudioAnalyser</h3>
Создает объект AudioAnalyser, использующий для анализа аудиоданных <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode" target="_blank">AnalyserNode</a><br>
Для его работы используется <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a>.
<a href="https://developer.mozilla.org/ru/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a> на русском языке.<br><br>
<h4>Пример</h4>
<pre>// Create an AudioListener and add it to the camera
// Создаем AudioListener и добавляем его к камере
var listener = new THREE.AudioListener();
camera.add( listener );<br>
// create an Audio source (создаем источник Audio)
var sound = new THREE.Audio( listener );<br>
// Load a sound and set it as the Audio object's buffer
// загружаем звук и устанавливаем его как буфер объекта Audio
var audioLoader = new THREE.AudioLoader();
audioLoader.load( 'sounds/ambient.ogg', function( buffer ) {
	sound.setBuffer( buffer );
	sound.setLoop(true);
	sound.setVolume(0.5);
	sound.play();
});<br>
// Create an AudioAnalyser, passing in the sound and desired fftSize
// создаем AudioAnalyser, с передачей sound и желаемого fftSize
var analyser = new THREE.AudioAnalyser( sound, 32 );<br>
// Get the average frequency of the sound (получаем среднюю частоту звука)
analyser.getAverageFrequency();</pre>
<h5>Другие примеры:</h5>
<pre><a href="https://threejs.org/examples/#webaudio_sandbox" target="_blank">webaudio / sandbox</a>
<a href="https://threejs.org/examples/#webaudio_visualizer" target="_blank">webaudio / visualizer</a></pre><br>

<h4>Конструктор</h4>
<pre>AudioAnalyser( audio, <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/fftSize" target="_blank">fftSize</a> )</pre>
Создает новый <a href="#2" onmouseover="show('AudioAnalyser');" onmouseout="hide()">AudioAnalyser</a>.<br><br>

<h4>Свойства</h4>
<div class=blockindent><br>
<pre id="2analyser"><a href="#" onclick="return false" onmouseover="show('AnalyserNode');" onmouseout="hide()">.analyser</a></pre>
Это <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode" target="_blank">AnalyserNode</a>, используемый для анализа звука.<br>
<div class=note_trans><b>Примечание переводчика:</b> вот краткий перевод описания AnalyserNode из вышеприведенной статьи <a class='link' onclick='javascript:spoiler(this)'>... читать далее</a>
<div style='display:none;'>Интерфейс AnalyserNode представляет узел, способный предоставить в реальном времени аналитические сведения о частотных и временны&#769;х параметрах звука. Это AudioNode, который передает неизменным аудиопоток со входа на выход, но при этом позволяет принимать сгенерированные данные, обрабатывать их и создавать визуализацию звука.<br>
AnalyserNode имеет всего лишь один вход и один выход и работает даже с неподключенным выходом.</div></div><br>

<pre id="2fftSize"><span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('fft size - размер fft');" onmouseout="hide()">.fftSize</a></span></pre>
Ненулевое значение степени двойки до 2048, представляющее размер FFT (Fast Fourier Transform) быстрого преобразования Фурье, используемого для определения частотной области.<br>
Подробности смотрите на <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/fftSize" target="_blank">этой странице</a>.
<div class=note_trans><b>Примечание переводчика:</b> вот краткий перевод описания fftSize из вышеприведенной статьи <a class='link' onclick='javascript:spoiler(this)'>... читать далее</a>
<div style='display:none;'>Свойство <tt>fftSize</tt> интерфейса AnalyserNode это беззнаковое длинное (тип long - 4 байта) значение, представляющее размер окна сэмплов (выборок), которое используется при выполнении быстрого преобразования Фурье (Fast Fourier Transform - FFT) для получения частотных данных.<br>
Более высокое значение приведет к более подробной информации по частотам, но будет меньше деталей по времени (снизится число выборок за единицу времени).<br>
Должно быть степенью двойки между 2<sup>5</sup> и 2<sup>15</sup>, то есть одним значением из: 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, и 32768. Значением по умолчанию является 2048.
<div class=list>Если это значение не равно степени числа 2 или выходит за рамки указанного диапазона, выводится <span class="lnk"  onmouseover="show('DOM exception - исключение (т.е. особая ситуация) DOM (от англ.<br>Document Object Model — «объектная модель документа»).<br>То есть, это ненормальная ситуация, которая случается<br>в результате вызова метода или доступа к свойству web API.');" onmouseout="hide()">DOMException</span> с названием <span class="lnk"  onmouseover="show('index size error - ошибка размера индекса');" onmouseout="hide()">IndexSizeError</span>.</div></div><br>
Посмотрите также <a href="http://forum.reference-audio-analyzer.pro/viewtopic.php?t=109" target="_blank">этот материал</a> о спектрах звукового сигнала, быстром преобразовании Фурье, семплах, бинах и т.д.</div><br>

<pre id="2data"><span onclick="showClick(type_uint8array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('data - данные');" onmouseout="hide()">.data</a></span></pre>
Используемый для хранения данных анализа, массив 8-разрядных беззнаковых целых чисел, размер которого определяется свойством
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/frequencyBinCount" onmouseover="show('analyser.frequencyBinCount - количество<br>частотных бинов (bin - лоток, ячейка,<br>подборка) анализатора');" onmouseout="hide()" target="_blank">analyser.frequencyBinCount</a>.
<div class=note_trans><b>Примечание переводчика:</b> вот краткий перевод описания analyser.frequencyBinCount из вышеприведенной статьи <a class='link' onclick='javascript:spoiler(this)'>... читать далее</a>
<div style='display:none;'>Свойство frequencyBinCount (доступное только для чтения) интерфейса AnalyserNode обычно соответствует числу значений данных, с которыми приходится иметь дело для визуализации.<br>
<div class="caption"><img src="img/spectrum.png" width=500><br>
Вот эти черные столбцы в спектре аудиосигнала и есть бины, а их число - frequencyBinCount.</div><br>
Значением свойства frequencyBinCount является беззнаковое целое число, равное числу значений, которые методы AnalyserNode.getByteFrequencyData() и AnalyserNode.getFloatFrequencyData() скопировали в предоставленный типизированный массив.<br>
По техническим причинам, связанным с определением быстрого преобразования Фурье, значение свойства analyserNode.frequencyBinCount всегда равно половине значения свойства AnalyserNode.fftSize.
Поэтому оно будет равно одному из следующих значений: 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, и 16384.</div></div></div><br>

<h4>Методы</h4>
<div class=blockindent><br>
<pre id="2getFrequencyData"><span onclick="showClick(type_uint8array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get frequency data - получить частотные данные');" onmouseout="hide()">.getFrequencyData</a></span>()</pre>
Данный метод использует метод Web Audio с названием <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/getByteFrequencyData" target="_blank">getByteFrequencyData</a></tt>.<br>
Вот перевод части описания метода по ссылке выше: метод <tt>getByteFrequencyData</tt> интерфейса <tt>AnalyserNode</tt> копирует данные текущей частоты в массив беззнаковых целых чисел (Uint8Array), переданный с ним.<br>
Если в массиве элементов меньше, чем в <tt>AnalyserNode.frequencyBinCount</tt>, избыточные элементы отбрасываются. Если же элементов больше, чем требуется, избыточные элементы игнорируются.<br><br>
<pre id="2getAverageFrequency"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get average frequency - получить среднюю частоту');" onmouseout="hide()">.getAverageFrequency</a></span>()</pre>
Метод получает среднее значение частот, возвращаемых методом <tt><a href="#2getFrequencyData"  onmouseover="show('AudioAnalyser.getFrequencyData');" onmouseout="hide()">getFrequencyData</a></tt>.</div><br>

<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/src/audio/AudioAnalyser.js" target="_blank">AudioAnalyser.js на github.com</a></div><br>


<h3 id="3">AudioContext</h3>
Здесь содержатся методы для настройки <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext" target="_blank">AudioContext</a>. Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/AudioContext" target="_blank">AudioContext</a> на русском языке.<br>
Используется внутри классов <tt><a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">AudioListener</a></tt> и <tt><a href="loaders.htm#2" onmouseover="show('AudioLoader');" onmouseout="hide()">AudioLoader</a></tt>.<br>
Для его работы используется <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a>.
Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a> на русском языке.<br><br>

<h4>Методы</h4>
<div class=blockindent><br>
<pre id="3getContext"><a href="#3" onmouseover="show('AudioContext. get context - получить контекст');" onmouseout="hide()">.getContext</a>()</pre>
Возвращает значение переменной <tt>context</tt> (если оно определено) во внешней области, в противном случае устанавливает в неё новый <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext" target="_blank">AudioContext</a>.<br><br>
<pre id="3setContext"><a href="#3" onmouseover="show('AudioContext. set context - установить контекст');" onmouseout="hide()">.setContext</a>( <a href="#3" onmouseover="show('AudioContext');" onmouseout="hide()">value</a> )</pre>
Устанавливает в переменную <tt>context</tt> во внешней области, значение, указанное в параметре <tt>value</tt>.</div><br>
<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/src/audio/AudioContext.js" target="_blank">AudioContext.js на github.com</a></div><br>


<span class="right_side"><a href="core.htm#14" title="Переход к родительскому классу"><tt>Object3D &rarr;</tt></a></span>
<h3 id="4">AudioListener</h3>
AudioListener представляет виртуального <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioListener" target="_blank">слушателя</a> всех звуковых эффектов на сцене, как имеющих определенное положение, так и не имеющих такового.<br>
Приложение three.js обычно создает один экземпляр AudioListener. Это обязательный параметр конструктора для аудио-объектов, таких как <a href="#1" onmouseover="show('Audio');" onmouseout="hide()">Audio</a> и <a href="#5" onmouseover="show('PositionalAudio');" onmouseout="hide()">PositionalAudio</a>.<br>
В большинстве случаев, объект-слушатель является дочерним элементом камеры. Таким образом, изменение положения камеры в трехмерном пространстве представляет и изменение положения слушателя.<br><br>
<h4>Пример</h4>
<pre>// Create an AudioListener and add it to the camera
// создаем AudioListener и добавляем его к камере
var listener = new THREE.AudioListener();
camera.add( listener );<br>
// create a global audio source (создаем глобальный аудиоисточник)
var sound = new THREE.Audio( listener );<br>
// Load a sound and set it as the Audio object's buffer
// загружаем звук и устанавливаем его как буфер объекта Audio
var audioLoader = new THREE.AudioLoader();
audioLoader.load( 'sounds/ambient.ogg', function( buffer ) {
	sound.setBuffer( buffer );
	sound.setLoop(true);
	sound.setVolume(0.5);
	sound.play();
});</pre>
<h5>Другие примеры:</h5>
<pre><a href="https://threejs.org/examples/#webaudio_sandbox" target="_blank">webaudio / sandbox</a>
<a href="https://threejs.org/examples/#webaudio_timing" target="_blank">webaudio / timing</a>
<a href="https://threejs.org/examples/#webaudio_visualizer" target="_blank">webaudio / visualizer</a></pre><br>
<h4>Конструктор</h4>
<pre>AudioListener( )</pre>
Создает новый AudioListener.<br><br>

<h4>Свойства</h4>
<div class=blockindent><br>
<pre id="4context"><a href="#3" onmouseover="show('AudioContext.<br>context - контекст, среда, фон');" onmouseout="hide()">.context</a></pre>
Заданный в конструкторе, <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext" target="_blank">AudioContext</a> <a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">слушателя</a>.
Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/AudioContext" target="_blank">статья о AudioContext</a> на русском языке.<br><br>

<pre id="4gain"><span onclick="showClick('GainNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('gain - усиление, увеличение');" onmouseout="hide()">.gain</a></span></pre>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/GainNode" target="_blank">GainNode</a> созданный при помощи метода <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createGain" target="_blank">AudioContext.createGain</a>.<br><br>

<pre id="4filter"><span onclick="showClick('AudioNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('filter - фильтр');" onmouseout="hide()">.filter</a></span></pre>
Значением по умолчанию является <tt>null</tt>.</div><br>

<h4>Методы</h4>
<div class=blockindent><br>
<pre id="4getInput"><span onclick="showClick('GainNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get input - получить вход');" onmouseout="hide()">.getInput</a></span>()</pre>
Возвращает значение <tt><a href="#4gain" onmouseover="show('AudioListener.gain');" onmouseout="hide()">gainNode</a></tt>.<br><br>

<pre id="4removeFilter"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('remove filter - удалить фильтр');" onmouseout="hide()">.removeFilter</a></span>()</pre>
Устанавливает свойство <tt><a href="#4filter" onmouseover="show('AudioListener.filter');" onmouseout="hide()">filter</a></tt> как <tt>null</tt>.<br><br>

<pre id="4getFilter"><span onclick="showClick('AudioNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get filter - получить фильтр');" onmouseout="hide()">.getFilter</a></span>()</pre>
Возвращает значение свойства <tt><a href="#4filter" onmouseover="show('AudioListener.filter');" onmouseout="hide()">filter</a></tt>.<br><br>

<pre id="4setFilter"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set filter - установить фильтр');" onmouseout="hide()">.setFilter</a></span>( <a href="https://developer.mozilla.org/ru/docs/Web/API/AudioNode" target="_blank" onmouseover="show('AudioNode')" onmouseout="hide()">value</a> )</pre>
Устанавливает свойство <tt><a href="#4filter" onmouseover="show('AudioListener.filter');" onmouseout="hide()">filter</a></tt> равным значению, указанному в параметре <tt>value</tt>.<br><br>

<pre id="4getMasterVolume"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get master volume - получить основную громкость');" onmouseout="hide()">.getMasterVolume</a></span>()</pre>
Возвращает значение уровня громкости.<br><br>
<pre id="4setMasterVolume"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set master volume - установить основную громкость');" onmouseout="hide()">.setMasterVolume</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает значение уровня громкости.</div><br>
<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/src/audio/AudioListener.js" target="_blank">AudioListener.js на github.com</a></div><br>


<span class="right_side"><a href="core.htm#14" title="Переход к родительскому классу"><tt>Object3D &rarr;</tt></a> &nbsp; &nbsp; <a href="#1" title="Переход к родительскому классу"><tt>Audio &rarr;</tt></a></span>
<h3 id="5">PositionalAudio</h3>
Создает позиционированный аудиообъект (т.е. источник звука, имеющий конкретное расположение).<br>
Для его работы используется <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a>.
Вот <a href="https://developer.mozilla.org/ru/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API</a> на русском языке.<br><br>

<h4>Пример</h4>
<pre>// Create an AudioListener and add it to the camera
// создаем AudioListener и добавляем его к камере
var listener = new THREE.AudioListener();
camera.add( listener );<br>
// Create the PositionalAudio object (passing in the listener)
// создаем объект PositionalAudio (passing in the listener)
var sound = new THREE.PositionalAudio( listener );<br>
// Load a sound and set it as the PositionalAudio object's buffer
// загружаем звук и устанавливаем его как буфер объекта PositionalAudio
var audioLoader = new THREE.AudioLoader();
audioLoader.load( 'sounds/song.ogg', function( buffer ) {
	sound1.setBuffer( buffer );
	sound1.setRefDistance( 20 );
	sound1.play();
});<br>
// Create an object for the sound to play from
// создаем объект для воспроизведения звука
var sphere = new THREE.SphereGeometry( 20, 32, 16 );
var material = new THREE.MeshPhongMaterial( { color: 0xff2200 } );
var mesh = new THREE.Mesh( sphere, material );
scene.add( mesh );<br>
// Finally add the sound to the mesh
// наконец добавляем звук к сетке
mesh.add( sound );</pre>
<h5>Другие примеры:</h5>
<pre><a href="https://threejs.org/examples/#webaudio_sandbox" target="_blank">webaudio / sandbox</a>
<a href="https://threejs.org/examples/#webaudio_timing" target="_blank">webaudio / timing</a></pre><br>

<h4>Конструктор</h4>
<pre>PositionalAudio( <a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">listener</a> )</pre>
<div class=list><tt><a href="#" onclick="return false" onmouseover="show('listener - слушатель, приемник');" onmouseout="hide()">listener</a></tt> — экземпляр <tt><a href="#4" onmouseover="show('AudioListener');" onmouseout="hide()">AudioListener</a></tt> (обязательный аргумент).</div><br>

<h4>Свойства</h4>
Для ознакомления с унаследованными свойствами смотрите описание класса <tt><a href="#1"  onmouseover="show('Audio');" onmouseout="hide()">Audio</a></tt>.
<div class=blockindent><br>
<pre id="5panner"><a href="#" onclick="return false" onmouseover="show('PannerNode');" onmouseout="hide()">.panner</a></pre>
Это <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode" target="_blank">PannerNode</a></tt> для <tt>PositionalAudio</tt>.</div>
<div class=note_trans><b>Примечание переводчика:</b> panner - устройство для панорамирования звука, т.е. для размещения источников звука в виртуальном пространстве, скорости распространения и направленности звукового сигнала.
Вот неполный перевод вышеприведенной статьи о <tt>PannerNode</tt>.<br><a class='link' onclick='javascript:spoiler(this)'>... читать далее</a>
<div style='display:none;'>Интерфейс <tt>PannerNode</tt> представляет положение источника звука и поведение его сигнала в пространстве.
Это модуль AudioNode для обработки звука, описывающий его положение (в правосторонней системе координат Декарта), его перемещение (с помощью вектора скорости распространения) и его направленности (при помощи конуса направления).<br><br>
PannerNode всегда имеет только один вход и один выход: вход может быть моно или стерео, но выход всегда стерео (2 канала); нельзя получить эффекты панорамирования при отсутствии, как минимум двух аудиоканалов!<br>
<img src="img/PannerNode.png" width="600"><br>
<div class="caption"><tt>PannerNode</tt> задает положение в пространстве, скорость распространения и направленность данного сигнала.</div><br>
<h4>Конструктор</h4>
<dl><dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/PannerNode" target="_blank"><tt>PannerNode.PannerNode</tt></a></dt>
<dd>Создает новый экземпляр <tt>PannerNode</tt>.</dd></dl>
<h4>Свойства</h4>
Наследует свойства от своего родителя, <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioNode" onmouseover="show('Интерфейс AudioNode является общим интерфейсом<br>для представления модуля обработки звука типа<br>источника звука (например, элементов HTML<br><tt>&#8249;audio&#8250;</tt> или <tt>&#8249;video&#8250;</tt>, <tt>OscillatorNode</tt>,<br>и т.п.), приемника звука, модуля промежуточной<br>обработки (например, фильтр вроде<br><tt>BiquadFilterNode</tt> или <tt>ConvolverNode</tt>), или<br>управления громкостью (как <tt>GainNode</tt>).');" onmouseout="hide()" target="_blank"><tt>AudioNode</tt></a>.

<div class="note">Значения направления и положения устанавливаются и получаются различными вариантами синтаксиса, поскольку хранятся в виде значений <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a>.
Получение значения осуществляется через обращение, например так, <tt>PannerNode.positionX</tt>. Установка того же свойства делается так, <tt>PannerNode.positionX.value</tt>. This is why these values are not marked read only, which is how they appear in the WebIDL.</div>

<dl><dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/coneInnerAngle" target="_blank" onmouseover="show('cone inner angle - внутренний угол конуса');" onmouseout="hide()"><tt>PannerNode.coneInnerAngle</tt></a></dt>
<dd>Это значение типа <tt>double</tt>, представляющее угол конуса (в градусах), внутри которого не будет уменьшения громкости.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/coneOuterAngle" target="_blank" onmouseover="show('cone outer angle - наружний угол конуса');" onmouseout="hide()"><tt>PannerNode.coneOuterAngle</tt></a></dt>
<dd>Это значение типа <tt>double</tt>, представляющее угол конуса (в градусах),  вне которого громкость звука будет уменьшена на постоянное значение, определяемое атрибутом <tt>coneOuterGain</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/coneOuterGain" target="_blank" onmouseover="show('cone outer gain - усиление снаружи конуса');" onmouseout="hide()"><tt>PannerNode.coneOuterGain</tt></a></dt>
<dd>Это значение типа <tt>double</tt>, представляющее величину снижения уровня громкости вне конуса, определенного атрибутом <tt>coneOuterAngle</tt>. Значение по умолчанию равно <tt>0</tt>, то есть, вне конуса звук не будет слышен.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel" target="_blank" onmouseover="show('distance model - модель (зависимости<br>уровня громкости) от расстояния');" onmouseout="hide()"><tt>PannerNode.distanceModel</tt></a></dt>
<dd>Перечислимое значение, определяющее, какой алгоритм будет использован для уменьшения громкости источника звука при удалении его от слушателя.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/maxDistance" target="_blank" onmouseover="show('max distance - максимальное расстояние');" onmouseout="hide()"><tt>PannerNode.maxDistance</tt></a></dt>
<dd>Значение типа <tt>double</tt>, представляющее максимальное расстояние между источником звука и слушателем, после которого громкость звука далее не уменьшается.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/orientationX" target="_blank" onmouseover="show('orientation X - ориентация (направленность)<br>по оси X (по горизонтали)');" onmouseout="hide()"><tt>PannerNode.orientationX</tt></a></dt>
<dd>Представляет горизонтальное положение вектора источника звука в правосторонней системе координат Декарта.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.
Значение по умолчанию равно <tt>1</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/orientationY" target="_blank" onmouseover="show('orientation Y - ориентация (направленность)<br>по оси Y (по вертикали)');" onmouseout="hide()"><tt>PannerNode.orientationY</tt></a></dt>
<dd>Представляет вертикальное положение вектора источника звука в правосторонней системе координат Декарта. Значение по умолчанию равно <tt>0</tt>.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.
Значение по умолчанию равно <tt>0</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/orientationZ" target="_blank" onmouseover="show('orientation Z - ориентация (направленность)<br>по оси Z (вперед - назад)');" onmouseout="hide()"><tt>PannerNode.orientationZ</tt></a></dt>
<dd>Представляет продольную (вперед - назад) позицию вектора распространения звука от источника в правосторонней системе координат Декарта. Значение по умолчанию равно <tt>0</tt>.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.
Значение по умолчанию равно <tt>0</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/panningModel" target="_blank" onmouseover="show('A enum — see PanningModelType.');" onmouseout="hide()"><tt>PannerNode.panningModel</tt></a></dt>
<dd>Перечислимое значение, определяющее какой алгоритм пространственной обработки используется для размещения источника звука в трехмерном пространстве.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/positionX" target="_blank" onmouseover="show('AudioParam, чьим значением является координата X<br>положения источника звука, в трехмерной системе<br>координат Декарта.');" onmouseout="hide()"><tt>PannerNode.positionX</tt></a></dt>
<dd>Представляет горизонтальное положение источника звука в правосторонней системе координат Декарта. Значение по умолчанию равно <tt>0</tt>.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.
Значение по умолчанию равно <tt>0</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/positionY" target="_blank" onmouseover="show('AudioParam, чьим значением является координата Y<br>положения источника звука, в трехмерной системе<br>координат Декарта.');" onmouseout="hide()"><tt>PannerNode.positionY</tt></a></dt>
<dd>Представляет вертикальное положение источника звука в правосторонней системе координат Декарта. Значение по умолчанию равно <tt>0</tt>.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.
Значение по умолчанию равно <tt>0</tt>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/positionZ" target="_blank" onmouseover="show('AudioParam, чьим значением является координата Z<br>положения источника звука, в трехмерной системе<br>координат Декарта.');" onmouseout="hide()"><tt>PannerNode.positionZ</tt></a></dt>
<dd>Представляет позицию источника звука вдоль оси Z (вперед и назад) в правосторонней системе координат Декарта. Значение по умолчанию равно <tt>0</tt>.
В то время как данный <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam" target="_blank" onmouseover="show('Существует два вида параметров<br>AudioParam: a-rate и k-rate.');" onmouseout="hide()"><tt>AudioParam</tt></a> непосредственно изменить нельзя, его значение может быть изменено через его свойство
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/value" target="_blank" onmouseover="show('Хотя значение может быть установлено, любые изменения<br>происходят в то время как имеется запланированная<br>автоматизация событий — то есть, события запланированные<br>при помощи методов AudioParam - игнорируются, без<br>каких-либо исключений.');" onmouseout="hide()"><tt>value</tt></a>.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/refDistance" target="_blank" onmouseover="show('сокращ. от reference distance -<br>справочное (опорное) расстояние');" onmouseout="hide()"><tt>PannerNode.refDistance</tt></a></dt>
<dd>Значение типа <tt>double</tt>, представляющее справочное (опорное) расстояние для уменьшения громкости при удалении источника звука от слушателя.</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/rolloffFactor" target="_blank" onmouseover="show('rolloff factor - коэффициент спада (уменьшения)');" onmouseout="hide()"><tt>PannerNode.rolloffFactor</tt></a></dt>
<dd>Значение типа <tt>double</tt>, представляющее как быстро уменьшается громкость при удалении источника звука от слушателя. Данное значение используется во всех моделях изменения громкости от расстояния.</dd></dl>

<h4>Методы</h4>
Наследует методы от своего родителя, <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioNode" onmouseover="show('Интерфейс AudioNode является общим интерфейсом<br>для представления модуля обработки звука типа<br>источника звука (например, элементов HTML<br><tt>&#8249;audio&#8250;</tt> или <tt>&#8249;video&#8250;</tt>, <tt>OscillatorNode</tt>,<br>и т.п.), приемника звука, модуля промежуточной<br>обработки (например, фильтр вроде<br><tt>BiquadFilterNode</tt> или <tt>ConvolverNode</tt>), или<br>управления громкостью (как <tt>GainNode</tt>).');" onmouseout="hide()" target="_blank"><tt>AudioNode</tt></a>.
<dl><dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/setPosition" target="_blank" onmouseover="show('set position - установка положения');" onmouseout="hide()"><tt>PannerNode.setPosition()</tt></a></dt>
<dd>Определяет положение источника звука относительно слушателя (представлен объектом <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioListener" target="_blank" onmouseover="show('Важно заметить, что в контексте имеется<br>только один listener (слушатель) и это<br>не AudioNode.');" onmouseout="hide()"><tt>AudioListener</tt></a>,
хранящимся в атрибуте <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/listener" target="_blank" onmouseover="show('объект AudioListener');" onmouseout="hide()"><tt>AudioContext.listener</tt></a>.)</dd>
<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/setOrientation" target="_blank" onmouseover="show('set orientation - установка ориентации (направления)');" onmouseout="hide()"><tt>PannerNode.setOrientation()</tt></a></dt>
<dd>Определяет направление воспроизведения источника звука.</dd>

<dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/setVelocity" target="_blank" onmouseover="show('set velocity — установка скорости (распространения звука)');" onmouseout="hide()"><tt>PannerNode.setVelocity()</tt></a></dt>
<dd>Это устаревший элемент API и его работа в дальнейшем не гарантируется.<br>
Определяет вектор распространения звука от источника - как быстро он движется и в каком направлении.
В предыдущей версии спецификации, <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode" target="_blank"><tt>PannerNode</tt></a> имел скорость распространения, которую можно было выдать выше или ниже
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBufferSourceNode" target="_blank" onmouseover="show('Интерфейс AudioBufferSourceNode представляет собой источник звука,<br>состоящий из аудиоданных в оперативной памяти, хранящихся в AudioBuffer.<br>Это AudioNode, который действует как источник звука.');" onmouseout="hide()"><tt>AudioBufferSourceNode</tt></a>s connected downstream.
Эта функция не была четко оговорена и имела ряд проблем, поэтому была удалена из спецификации.</dd></dl>

<h4>Пример</h4>
Ниже можно увидеть пример использования <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioListener" target="_blank" onmouseover="show('Важно заметить, что в контексте имеется<br>только один listener (слушатель) и это<br>не AudioNode.');" onmouseout="hide()">AudioListener</a></tt>,
<tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode" target="_blank">PannerNode</a></tt> и метода <tt>createPanner()</tt> для управления пространством объемного звука.
Обычно определяется положение в трехмерном пространстве, изначально занимаемое слушателем (listener) и источником звука (panner), а затем, при использовании приложения, обновляется позиция одного из них или обоих.
Например, вы можете перемещать персонажа внутри игрового мира, и желательно чтобы передача звука изменялась реалистично, по мере приближения или отдаления персонажа относительно источника звука, вроде стереопроигрывателя.
В этом примере можно видеть, что все это управляется функциями <tt>moveRight()</tt>, <tt>moveLeft()</tt>, и т.п., которые устанавливают новые значения для положения паннера через функцию <tt>PositionPanner()</tt>.<br><br>
Чтобы увидеть полную реализацию ознакомьтесь с нашим <a href="https://mdn.github.io/webaudio-examples/panner-node/" target="_blank">примером <tt>panner-node</tt></a> (<a href="https://mdn.github.io/webaudio-examples/" target="_blank">просмотрите весь список примеров</a>)
 — эта демонстрация перенесет вас в 2.5D "Room of metal" (2,5-мерную "металлическую комнату"),
где можно проиграть трек на <span class="lnk" onmouseover="show('переносной двухкассетный магнитофон');" onmouseout="hide()">бумбоксе</span> и затем походить вокруг него и посмотреть как изменяется звук!<br><br>

Note how we have used some feature detection to either give the browser the newer property values
(like <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioListener/forwardX" target="_blank" onmouseover="show('The forwardX read-only property of the AudioListener interface<br>is an AudioParam representing the x value of the direction vector<br>defining the forward direction the listener is pointing in.');" onmouseout="hide()"><tt>AudioListener.forwardX</tt></a>)
for setting position, etc. if it supports those, or older methods (like <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioListener/setOrientation" target="_blank" onmouseover="show('Void');" onmouseout="hide()"><tt>AudioListener.setOrientation()</tt></a>) if it still supports those but not the new properties.

<pre>// set up listener and panner position information
// установка сведений о слушателе и положении panner'а
var WIDTH = window.innerWidth;
var HEIGHT = window.innerHeight;<br>
var xPos = Math.floor(WIDTH/2);
var yPos = Math.floor(HEIGHT/2);
var zPos = 295;<br>
// define other variables (определяем другие переменные)<br>
var AudioContext = window.AudioContext || window.webkitAudioContext;
var audioCtx = new AudioContext();<br>
var panner = audioCtx.createPanner();
panner.panningModel = 'HRTF';
panner.distanceModel = 'inverse';
panner.refDistance = 1;
panner.maxDistance = 10000;
panner.rolloffFactor = 1;
panner.coneInnerAngle = 360;
panner.coneOuterAngle = 0;
panner.coneOuterGain = 0;<br>
if(panner.orientationX) {
  panner.orientationX.value = 1;
  panner.orientationY.value = 0;
  panner.orientationZ.value = 0;
} else {
  panner.setOrientation(1,0,0);
}<br>
var listener = audioCtx.listener;<br>
if(listener.forwardX) {
  listener.forwardX.value = 0;
  listener.forwardY.value = 0;
  listener.forwardZ.value = -1;
  listener.upX.value = 0;
  listener.upY.value = 1;
  listener.upZ.value = 0;
} else {
  listener.setOrientation(0,0,-1,0,1,0);
}<br>
var source;<br>
var play = document.querySelector('.play');
var stop = document.querySelector('.stop');<br>
var boomBox = document.querySelector('.boom-box');
var listenerData = document.querySelector('.listener-data');
var pannerData = document.querySelector('.panner-data');<br>
leftBound = (-xPos) + 50;
rightBound = xPos - 50;<br>
xIterator = WIDTH/150;<br>
// listener will always be in the same place for this demo
// в этом демо listener всегда находится на одном месте<br>
if(listener.positionX) {
  listener.positionX.value = xPos;
  listener.positionY.value = yPos;
  listener.positionZ.value = 300;
} else {
  listener.setPosition(xPos,yPos,300);
}<br>
listenerData.innerHTML = 'Listener data: X ' + xPos + ' Y ' + yPos + ' Z ' + 300;<br>
// panner will move as the boombox graphic moves around on the screen
// panner will move as the boombox graphic moves around on the screen
function positionPanner() {
  if(panner.positionX) {
    panner.positionX.value = xPos;
    panner.positionY.value = yPos;
    panner.positionZ.value = zPos;
  } else {
    panner.setPosition(xPos,yPos,zPos);
  }
  pannerData.innerHTML = 'Panner data: X ' + xPos + ' Y ' + yPos + ' Z ' + zPos;
}</pre><br>
Дополнительно о панорамировании звука можно почитать на сайте <a href="http://musiconnect.ru/publ/mixmaster/osnovy-panoramirovaniya-raspolozhenie-zvukov-v-virtualnom-prostranstve-ch-1/" target="_blank">musiconnect.ru</a>.<br><br><br></div></div><br>

<h4>Методы</h4>
Для ознакомления с унаследованными методами смотрите описание класса <tt><a href="#1" onmouseover="show('Audio');" onmouseout="hide()">Audio</a></tt>.
<div class=blockindent><br>
<pre id="5getOutput"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get output - получить выход');" onmouseout="hide()">.getOutput</a></span>()</pre>
Возвращает <a href="#5panner" onmouseover="show('PositionalAudio.panner');" onmouseout="hide()">panner</a>.<br><br>

<pre id="5getRefDistance"><span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращение от get reference distance<br>- получить справочное расстояние');" onmouseout="hide()">.getRefDistance</a></span>()</pre>
Возвращает значение параметра <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/refDistance" target="_blank">panner.refDistance</a></tt>.
<div class=note_trans><b>Примечание переводчика:</b> Свойство <tt>refDistance</tt> интерфейса <tt>PannerNode</tt> это значение типа <tt>double</tt>, представляющее справочное (эталонное, опорное) расстояние для уменьшения громкости при удалении источника звука от слушателя.
Данное значение используется при всех моделях, зависимости от расстояния, т.е. при всех значениях свойства <tt>distanceModel</tt>.<br>
Значение по умолчанию свойства <tt>refDistance</tt> равно <tt>1</tt>.</div><br>

<pre id="5setRefDistance"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращение от set reference distance<br>- установить справочное расстояние');" onmouseout="hide()">.setRefDistance</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает значение <tt><a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/refDistance" target="_blank">panner.refDistance</a></tt>.<br><br>

<pre id="5getRolloffFactor"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get rolloff factor - получить<br>коэффициент спада (уменьшения)');" onmouseout="hide()">.getRolloffFactor</a></span>()</pre>
Возвращает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/rolloffFactor" target="_blank">panner.rolloffFactor</a>.
<div class=note_trans><b>Примечание переводчика:</b> Свойство <tt>rolloffFactor</tt> интерфейса <tt>PannerNode</tt> это значение типа <tt>double</tt>, характеризующее как быстро уменьшается громкость при удалении источника звука от слушателя.
Данное значение используется при всех моделях, зависимости от расстояния, т.е. при всех значениях свойства <tt>distanceModel</tt>.<br>
Значение по умолчанию свойства <tt>rolloffFactor</tt> равно <tt>1</tt>.</div><br>

<pre id="5setRolloffFactor"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set rolloff factor - установить<br>коэффициент спада (уменьшения)');" onmouseout="hide()">.setRolloffFactor</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/rolloffFactor" target="_blank">panner.rolloffFactor</a>.<br><br>

<pre id="5getDistanceModel"><span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get distance model - получить<br>модель (зависимости от) расстояния');" onmouseout="hide()">.getDistanceModel</a></span>()</pre>
Возвращает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel" target="_blank">panner.distanceModel</a>.
<div class=note_trans><b>Примечание переводчика:</b> Свойство <tt>distanceModel</tt> интерфейса <tt>PannerNode</tt> является вычисляемым значением, определяющим какой алгоритм будет использоваться для снижения громкости источника звука при его удалении от слушателя.<br>
Возможными значениями являются:
<div class=list><tt>linear</tt> (линейная): Модель линейной зависимости от расстояния рассчитывает коэффициент усиления, вызванный расстоянием, в соответствии с:
<pre>1 - rolloffFactor * (distance - refDistance) / (maxDistance - refDistance)</pre></div>
<div class=list><tt>inverse</tt> (обратная): Модель обратной зависимости от расстояния рассчитывает коэффициент усиления, вызванный расстоянием, в соответствии с:
<pre>refDistance / (refDistance + rolloffFactor * (distance - refDistance))</pre></div>
<div class=list><tt>exponential</tt> (экспоненциальная): Модель экспоненциальной зависимости от расстояния рассчитывает коэффициент усиления, вызванный расстоянием, в соответствии с:
<pre>pow(distance / refDistance, -rolloffFactor).</pre></div>
Значением по умолчанию для <tt>distanceModel</tt> является <tt>inverse</tt>.</div><br>

<pre id="5setDistanceModel"><span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set distance model - установить<br>модель (зависимости от) расстояния');" onmouseout="hide()">.setDistanceModel</a></span>( <span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel" target="_blank">panner.distanceModel</a>.<br><br>

<pre id="5getMaxDistance"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('get max distance - получить максимальное расстояние');" onmouseout="hide()">.getMaxDistance</a></span>()</pre>
Возвращает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/maxDistance" target="_blank">panner.maxDistance</a>.
<div class=note_trans><b>Примечание переводчика:</b> Свойство <tt>maxDistance</tt> интерфейса <tt>PannerNode</tt> это значение типа <tt>double</tt>, представляющее максимальное расстояние между источником звука и слушателем, после которого уровень громкости дальше не снижается.
Данное значение используется только в модели с линейной зависимостью от расстояния, т.е. когда <tt>distanceModel</tt> установлена как <tt>linear</tt>.<br>
Значение по умолчанию свойства <tt>maxDistance</tt> равно <tt>10000</tt>.</div><br>
<pre id="5setMaxDistance"><span onclick="showClick('PannerNode')"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('set max distance - установить максимальное расстояние');" onmouseout="hide()">.setMaxDistance</a></span>( <span onclick="showClick(type_number)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('value - значение');" onmouseout="hide()">value</a></span> )</pre>
Устанавливает значение <a href="https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/maxDistance" target="_blank">panner.maxDistance</a>.</div><br>

<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/src/audio/PositionalAudio.js" target="_blank">PositionalAudio.js на github.com</a></div><br>
<br><br>
</body></html>
