<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>Three.js - Примеры - Загрузчики</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../1.css">
<script type="text/javascript" src="../../1.js"></script>
</head>
<body>

<h3>PRWMLoader</h3>
Загрузчик для загрузки ресурса в формате <em>.prwm</em>.<br>
Формат <tt>prwm</tt> (Packed Raw WebGL Model - упакованная исходная WebGL модель) представляет собой формат двоичного файла с открытым исходным кодом для n-мерной геометрии,
специально разработанный для JavaScript и WebGL с повышенным вниманием к скорости синтаксического анализа (от&nbsp;1 мс до&nbsp;0,1 мс в браузере Chrome 59 версии на ноутбуке Apple MacBook Pro Retina 13 Late 2013).
Синтаксический анализ (разбор) PRWM-файла выполняется особенно быстро когда <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D0%BA_%D0%B1%D0%B0%D0%B9%D1%82%D0%BE%D0%B2" target="_blank">порядок байтов</a> файла совпадает с порядком байтов клиентской платформы.
Подробнее об этом смотрите <a href="https://github.com/kchapelier/PRWM" target="_blank">здесь</a>.<br><br>

<h4>Пример</h4>
<pre>// instantiate a loader (создание экземпляра загрузчика)
var loader = new THREE.PRWMLoader();<br>
// load a resource (загрузка ресурса)
loader.load(
  // resource URL (URL-адрес ресурса)
  'models/nefertiti.le.prwm',<br>
  // called when resource is loaded (вызывается по завершении загрузки)
  function ( bufferGeometry ) {
  var object = new THREE.Mesh( bufferGeometry, new THREE.MeshNormalMaterial() );
    scene.add( object );
  },<br>
  // called when loading is in progresses (вызывается во время загрузки)
  function ( xhr ) {
    console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
  },<br>
  // called when loading has errors (вызывается при ошибках в загрузке)
  function ( error ) {
    console.log( 'Произошла ошибка' );
  }
);</pre>
<h5>Другие примеры:</h5>
<pre><a href="https://threejs.org/examples/#webgl_loader_prwm" target="_blank">webgl / loader / prwm</a></pre><br>

<h4>Конструктор</h4>
<pre>PRWMLoader( <a href="../../loaders/loadingManager.htm" onmouseover="show('LoadingManager.<br>manager - менеджер, управляющий')" onmouseout="hide()">manager</a> )</pre>
<div class=list><tt>manager</tt> — <a href="../../loaders/loadingManager.htm" onmouseover="show('LoadingManager')" onmouseout="hide()">менеджер загрузки</a>, используемый для загрузки.
Значением по умолчанию является <a href="../../loaders/defaultLoadingManager.htm" onmouseover="show('DefaultLoadingManager')" onmouseout="hide()">THREE.DefaultLoadingManager</a>.</div>
Создает новый PRWMLoader.<br><br>

<h4>Свойства</h4>
Общие свойства смотрите в описании базового класса <a href="../../loaders/loader.htm" onmouseover="show('Loader')" onmouseout="hide()">Loader</a>.
<br><br>

<h4>Методы</h4>
Общие методы смотрите в описании базового класса <a href="../../loaders/loader.htm" onmouseover="show('Loader')" onmouseout="hide()">Loader</a>.
<div class=blockindent><br>
<pre id="load"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('load - загрузить')" onmouseout="hide()">.load</a></span>( <span onclick="showClick(type_string)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('url - сокращ. англ. слов Uniform Resource Locator<br>- единообразный локатор (определитель<br>местонахождения) ресурса')" onmouseout="hide()">url</a></span>, <span onclick="showClick(type_func)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on load - на загрузку')" onmouseout="hide()">onLoad</a></span>, <span onclick="showClick(type_func)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on progress - на ход процесса')" onmouseout="hide()">onProgress</a></span>, <span onclick="showClick(type_func)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on error - на ошибку')" onmouseout="hide()">onError</a></span> )</pre>
<div class=list><tt>url</tt> — строка, содержащая путь/URL-адрес <tt>prwm</tt>-файла (обязательный аргумент). Любой символ&nbsp;<tt>*</tt> в URL-адресе будет автоматически заменяться на <tt>le</tt> или <tt>be</tt>, в зависимости от порядка байтов платформы.</div>
<div class=list><tt>onLoad</tt> — функция, которая будет вызвана после успешного завершения загрузки, дополнительный, необязательный параметр.
В качестве аргумента, эта функция получает загруженный <a href="../../core/bufferGeometry.htm" onmouseover="show('BufferGeometry')" onmouseout="hide()">BufferGeometry</a>.</div>
<div class=list><tt>onProgress</tt> - функция, которая будет вызываться пока идет процесс загрузки.
Аргументом будет экземпляр XMLHttpRequest, что содержит сведения о загрузке <tt><span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('total - полный (размер ресурса)')" onmouseout="hide()">total</a></span></tt>
и <tt><span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('loaded - загружено, в данном случае<br>размер загруженного ресурса')" onmouseout="hide()">loaded</a></span></tt> в байтах.</div>
<div class=list><tt>onError</tt> — функция, которая будет вызвана в случае ошибки при загрузке, дополнительный, необязательный параметр. Функция принимает ошибку в качестве аргумента.</div>
Начинает загрузку с URL-адреса и после её успешного завершения вызывает функцию, указанную в <tt>onLoad</tt>, с разобранным содержимым ответа.<br><br>

<pre id="parse"><a href="../../core/bufferGeometry.htm" onmouseover="show('BufferGeometry.<br>parse - разбор, синтаксический анализ')" onmouseout="hide()">.parse</a>( <span class="lnk" onmouseover="show('array buffer - буферный массив')" onmouseout="hide()">arrayBuffer</span> )</pre>
<div class=list><tt>arrayBuffer</tt> — буферный массив, содержащий данные в <tt>prwm</tt> формате.</div>
Метод выполняет синтаксический анализ <tt>prwm</tt>-файла, переданного в виде буферного массива, и тотчас возвращает экземпляр <a href="../../core/bufferGeometry.htm" onmouseover="show('BufferGeometry')" onmouseout="hide()">BufferGeometry</a>.<br><br>

<pre id="isBigEndianPlatform"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('is big endian platform - платформа с порядком<br>байтов от старшего к младшему')" onmouseout="hide()">.isBigEndianPlatform</a></span>( )</pre>
Возвращает значение <tt>true</tt>, если порядок байтов платформы установлен как <span class="lnk" onmouseover="show('т.е. порядок от старшего к младшему<br>(англ. big-endian — большим концом)')" onmouseout="hide()">Big Endian</span>, в противном случае значение <tt>false</tt>.</div><br>

<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/PRWMLoader.js" target="_blank">PRWMLoader.js на github.com</a></div>

<br><br>
</body></html>
