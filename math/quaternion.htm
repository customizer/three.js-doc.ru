<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>Three.js</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../1.css">
<script type="text/javascript" src="../1.js"></script>
</head>
<body>

<h3>Quaternion</h3>
Реализация <a href="http://en.wikipedia.org/wiki/Quaternion" target="_blank">кватерниона</a>. Вот <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B2%D0%B0%D1%82%D0%B5%D1%80%D0%BD%D0%B8%D0%BE%D0%BD" target="_blank">статья Википедии о кватернионе</a> на русском языке.<br>
Кватернионы используются при расчетах <a href="https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation" target="_blank">вращающихся элементов</a> (вот <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B2%D0%B0%D1%82%D0%B5%D1%80%D0%BD%D0%B8%D0%BE%D0%BD%D1%8B_%D0%B8_%D0%B2%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%81%D1%82%D0%B2%D0%B0" target="_blank">эта статья</a> Википедии на русском),
при этом, среди других преимуществ, не встречаясь с ужасной проблемой <a href="http://en.wikipedia.org/wiki/Gimbal_lock" target="_blank">&#171;шарнирного замка&#187;</a>.
Вот статья Википедии о <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%BC%D0%BE%D0%BA" target="_blank">&#171;шарнирном замке&#187;</a> на русском языке.<br><br>

<h4>Пример</h4>
<pre>var quaternion = new THREE.Quaternion();
quaternion.setFromAxisAngle( new THREE.Vector3( 0, 1, 0 ), Math.PI / 2 );<br>
var vector = new THREE.Vector3( 1, 0, 0 );
vector.applyQuaternion( quaternion );</pre>

<h4>Конструктор</h4>
<pre>Quaternion( <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата x')" onmouseout="hide()">x</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата y')" onmouseout="hide()">y</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата z')" onmouseout="hide()">z</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата w')" onmouseout="hide()">w</a></span> )</pre>
<div class=list><tt>x</tt> - координата <tt>x</tt>.</div>
<div class=list><tt>y</tt> - координата <tt>y</tt></div>
<div class=list><tt>z</tt> - координата <tt>z</tt></div>
<div class=list><tt>w</tt> - координата <tt>w</tt></div><br>

<h4>Свойства</h4>
<div class=blockindent><br>
<pre id="x"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата x')" onmouseout="hide()">.x</a></span></pre>
Изменение этого свойства приведет к вызову метода <tt><a href="#onChangeCallback" onmouseover="show('Quaternion.onChangeCallback')" onmouseout="hide()">onChangeCallback</a></tt>.<br><br>

<pre id="y"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата y')" onmouseout="hide()">.y</a></span></pre>
Изменение этого свойства приведет к вызову метода <tt><a href="#onChangeCallback" onmouseover="show('Quaternion.onChangeCallback')" onmouseout="hide()">onChangeCallback</a></tt>.<br><br>

<pre id="z"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата z')" onmouseout="hide()">.z</a></span></pre>
Изменение этого свойства приведет к вызову метода <tt><a href="#onChangeCallback" onmouseover="show('Quaternion.onChangeCallback')" onmouseout="hide()">onChangeCallback</a></tt>.<br><br>

<pre id="w"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('координата w')" onmouseout="hide()">.w</a></span></pre>
Изменение этого свойства приведет к вызову метода <tt><a href="#onChangeCallback" onmouseover="show('Quaternion.onChangeCallback')" onmouseout="hide()">onChangeCallback</a></tt>.</div><br>

<h4>Методы</h4>
<div class=blockindent><br>
<pre id="clone"><a href="#" onmouseover="show('Quaternion.<br>clone - клонировать')" onmouseout="hide()">.clone</a>( )</pre>
Создает новый Quaternion с такими же свойствами <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>, <tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt> и <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt> как у данного.<br><br>

<pre id="conjugate"><a href="#" onmouseover="show('Quaternion.<br>conjugate - сопряженный, парный, соединенный')" onmouseout="hide()">.conjugate</a>( )</pre>
Возвращает <a href="http://mydocx.ru/4-91593.html" target="_blank">конъюгат</a> вращения к данному кватерниону. Конъюгат кватерниона представляет собой тоже самое вращение в обратном направлении вокруг осей вращения.<br><br>

<pre id="copy"><a href="#" onmouseover="show('Quaternion.<br>copy - копировать')" onmouseout="hide()">.copy</a>( <a href="#" onmouseover="show('Quaternion.<br>q - сокращ. англ. слова quaternion - кватернион')" onmouseout="hide()">q</a> )</pre>
Метод копирует свойства <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>, <tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt>
и <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt> кватерниона, указанного в параметре <tt><a href="#" onmouseover="show('Quaternion.<br>q - сокращ. англ. слова quaternion - кватернион')" onmouseout="hide()">q</a></tt>, в данный кватернион.<br><br>

<pre id="equals"><span onclick="showClick(type_bool)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('equals - сравнить')" onmouseout="hide()">.equals</a></span>( <a href="#" onmouseover="show('Quaternion')" onmouseout="hide()">v</a> )</pre>
<div class=list><tt>v</tt> - кватернион, с которым будет сравниваться данный кватернион.</div>
Метод сравнивает свойства <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>, <tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt>
и <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt> кватерниона, указанного в параметре&nbsp;<tt>v</tt>, с аналогичными свойствами данного кватерниона, чтобы определить представлено ли в них одно и то же вращение.<br><br>

<pre id="dot"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('dot - точка (название метода, скорее всего отражает<br>тот факт, что скалярное произведение принято<br>обозначать точкой, а векторное - знаком умножения,<br>т.е. диагональным крестиком)')" onmouseout="hide()">.dot</a></span>( <a href="#" onmouseover="show('Quaternion.')" onmouseout="hide()">v</a> )</pre>
Метод вычисляет <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BA%D0%B0%D0%BB%D1%8F%D1%80%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5" target="_blank">скалярное произведение</a>
(в англ. варианте - <a href="https://en.wikipedia.org/wiki/Dot_product" target="_blank">dot product</a>) данного кватерниона и кватерниона, представленного в аргументе <tt>v</tt>.<br><br>

<pre id="fromArray"><a href="#" onmouseover="show('Quaternion.<br>from array - из массива')" onmouseout="hide()">.fromArray</a>( <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('array - массив')" onmouseout="hide()">array</a></span>, <span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('offset - смещение')" onmouseout="hide()">offset</a></span> )</pre>
<div class=list><tt>array</tt> - массив в формате <tt>(x, y, z, w)</tt>, используемый для построения кватерниона.</div>
<div class=list><tt>offset</tt> - смещение в массиве (дополнительный, необязательный параметр).</div>
Устанавливает свойства <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>,
<tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt> и <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt> данного кватерниона из массива.<br><br>

<pre id="inverse"><a href="#" onmouseover="show('Quaternion.<br>inverse - инверсия, противоположность, обратный порядок')" onmouseout="hide()">.inverse</a>( )</pre>
Метод инвертирует данный кватернион - вычисляет <a href="#conjugate" onmouseover="show('Quaternion.conjugate')" onmouseout="hide()">конъюгат</a> и затем <a href="#normalize" onmouseover="show('Quaternion.normalize')" onmouseout="hide()">нормализует</a> результат.<br><br>

<pre id="length"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('length - длина, расстояние')" onmouseout="hide()">.length</a></span>( )</pre>
Метод вычисляет <a href="https://ru.wikipedia.org/wiki/%D0%95%D0%B2%D0%BA%D0%BB%D0%B8%D0%B4%D0%BE%D0%B2%D0%B0_%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA%D0%B0" target="_blank">евклидово расстояние</a>
(<a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank">Euclidean length</a>), т.е. длину прямой линии данного кватерниона, рассматриваемого в качестве четырехмерного вектора.<br><br>

<pre id="lengthSq"><span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слов length square - длина в квадрате')" onmouseout="hide()">.lengthSq</a></span>( )</pre>
Метод вычисляет квадрат <a href="https://ru.wikipedia.org/wiki/%D0%95%D0%B2%D0%BA%D0%BB%D0%B8%D0%B4%D0%BE%D0%B2%D0%B0_%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA%D0%B0" target="_blank">евклидова расстояния</a>
(<a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank">Euclidean length</a>), т.е. квадрат длины прямой линии данного кватерниона, рассматриваемого в качестве четырехмерного вектора.
Его удобно применять при сравнении длин двух кватернионов, поскольку это несколько более эффективный расчет чем в методе <tt><a href="#length" onmouseover="show('Quaternion.length')" onmouseout="hide()">length</a></tt>.<br><br>

<pre id="normalize"><a href="#" onmouseover="show('Quaternion.<br>normalize - нормализовать, упорядочить')" onmouseout="hide()">.normalize</a>( )</pre>
Метод <a href="https://en.wikipedia.org/wiki/Unit_vector" target="_blank">нормализует</a> данный кватернион - то есть, вычисляет кватернион, выполняющий такое же вращение, как и данный, но имеет длину равную <tt>1</tt>.<br>
Вот статья Википедии о <a href="https://ru.wikipedia.org/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80" target="_blank">нормализованном, т.е. единичном векторе</a> на русском языке.<br><br>

<pre id="multiply"><a href="#" onmouseover="show('Quaternion.<br>multiply - умножить')" onmouseout="hide()">.multiply</a>( <a href="#" onmouseover="show('Quaternion.<br>сокращ. от англ. слова quaternion - кватернион')" onmouseout="hide()">q</a> )</pre>
Метод умножает данный кватернион на кватернион, указанный в аргументе <tt><a href="#" onmouseover="show('Quaternion.<br>сокращ. от англ. слова quaternion - кватернион')" onmouseout="hide()">q</a></tt>.<br><br>

<pre id="multiplyQuaternions"><a href="#" onmouseover="show('Quaternion.<br>multiply quaternions - умножить кватернионы')" onmouseout="hide()">.multiplyQuaternions</a>( <a href="#" onmouseover="show('Quaternion.<br>a - обозначение сомножителя')" onmouseout="hide()">a</a>, <a href="#" onmouseover="show('Quaternion.<br>b - обозначение сомножителя')" onmouseout="hide()">b</a> )</pre>
Устанавливает этот кватернион равным <tt><a href="#" onmouseover="show('Quaternion.<br>a - обозначение сомножителя')" onmouseout="hide()">a</a></tt> &#215; <tt><a href="#" onmouseover="show('Quaternion.<br>b - обозначение сомножителя')" onmouseout="hide()">b</a></tt>.<br>
Умножение производится в соответствии с методом, приведенным <a href="http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm" target="_blank">здесь</a>.<br><br>

<pre id="onChange"><a href="#" onmouseover="show('Quaternion.<br>on change - на изменение')" onmouseout="hide()">.onChange</a>( <span onclick="showClick(type_func)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on change callback - функция<br>обратного вызова на изменение')" onmouseout="hide()">onChangeCallback</a></span> )</pre>
Устанавливает метод <tt><a href="#" onmouseover="show('Quaternion.onChangeCallback')" onmouseout="hide()">onChangeCallback</a></tt>.<br><br>

<pre id="onChangeCallback"><a href="#" onmouseover="show('Quaternion.<br>on change callback - функция<br>обратного вызова на изменение')" onmouseout="hide()">.onChangeCallback</a> ( )</pre>
Данная функция вызывается всякий раз, когда происходит одно из следующих событий:</div>
<ul><li>Изменились свойства <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>, <tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt> или <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt>.</li>
<li>Был вызов функций <tt><a href="#set" onmouseover="show('Quaternion.set')" onmouseout="hide()">set</a></tt>, <tt><a href="#copy" onmouseover="show('Quaternion.copy')" onmouseout="hide()">copy</a></tt>, <tt><a href="#clone" onmouseover="show('Quaternion.clone')" onmouseout="hide()">clone</a></tt>,
<tt><a href="#setFromAxisAngle" onmouseover="show('Quaternion.setFromAxisAngle')" onmouseout="hide()">setFromAxisAngle</a></tt>, <tt><a href="#setFromRotationMatrix" onmouseover="show('Quaternion.setFromRotationMatrix')" onmouseout="hide()">setFromRotationMatrix</a></tt>,
<tt><a href="#conjugate" onmouseover="show('Quaternion.conjugate')" onmouseout="hide()">conjugate</a></tt>, <tt><a href="#normalize" onmouseover="show('Quaternion.normalize')" onmouseout="hide()">normalize</a></tt>, <tt><a href="#multiplyQuaternions" onmouseover="show('Quaternion.multiplyQuaternions')" onmouseout="hide()">multiplyQuaternions</a></tt>,
<tt><a href="#slerp" onmouseover="show('Quaternion.slerp')" onmouseout="hide()">slerp</a></tt> или <tt><a href="#fromArray" onmouseover="show('Quaternion.fromArray')" onmouseout="hide()">fromArray</a></tt>.</li>
<li>Вызывалась функция <tt><a href="#setFromEuler" onmouseover="show('Quaternion.setFromEuler')" onmouseout="hide()">setFromEuler</a></tt> со своим аргументом <tt>update</tt>, установленным как <tt>true</tt>.</li></ul>
<div class=blockindent>По умолчанию это "пустая" функция, однако при необходимости вы можете ее изменить, воспользовавшись методом
<tt><a href="#onChange" onmouseover="show('Quaternion.onChange')" onmouseout="hide()">onChange</a>( <span onclick="showClick(type_func)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('on change callback - функция обратного вызова на изменение')" onmouseout="hide()">onChangeCallback</a></span> )</tt>.<br><br>

<pre id="premultiply"><a href="#" onmouseover="show('Quaternion.<br>premultiply - предварительное умножение')" onmouseout="hide()">.premultiply</a>( <a href="#" onmouseover="show('Quaternion.<br>q - сокращ. от англ. слова quaternion - кватернион')" onmouseout="hide()">q</a> )</pre>
Метод предварительно умножает данный кватернион с заданным в аргументе <tt>q</tt>.<br><br>

<pre id="slerp"><a href="#" onmouseover="show('Quaternion.<br>slerp - сокращ. англ. слов<br>spherical linear interpolation -<br>сферическая линейная интерполяция')" onmouseout="hide()">.slerp</a>( <a href="#" onmouseover="show('Quaternion.<br>qb - сокращ. англ. слов quaternion b -<br>т.е. кватернион обозначенный буквой b<br>или второй кватернион, первым будет тот,<br>от которого вызван этот метод')" onmouseout="hide()">qb</a>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('t - ')" onmouseout="hide()">t</a></span> )</pre>
<div class=list><tt>qb</tt> -- другой кватернион вращения.</div>
<div class=list><tt>t</tt> -- коэффициент интерполяции (interpolation factor) в закрытом (замкнутом) интервале (closed interval) <tt>[0, 1]</tt>.</div>
Метод осуществляет сферическую линейную интерполяцию между кватернионами. Аргумент <tt>t</tt> представляет суммарный поворот между данным кватернионом (при <tt>t</tt> равном&nbsp;<tt>0</tt>) и кватернионом, переданным в аргументе <tt>qb</tt> (при <tt>t</tt> равном&nbsp;<tt>1</tt>).

This quaternion is set to the result. Также посмотрите статическую версию метода <tt>slerp</tt> ниже.
<pre>// rotate a mesh towards a target quaternion
// поворачиваем сетку (mesh) к целевому кватерниону
mesh.quaternion.slerp( endQuaternion, 0.01 );</pre>
<div class=note_trans><b>Примечание переводчика:</b> Вот статья английской Википедии о <a href="https://en.wikipedia.org/wiki/Slerp" target="_blank">сферической линейной интерполяции</a>. А здесь статья gamedev.ru о <a href="http://www.gamedev.ru/articles/?id=30129&page=4" target="_blank">интерполяции кватернионов</a> на русском языке.</div><br>

<pre id="set"><a href="#" onmouseover="show('Quaternion.<br>set - установить')" onmouseout="hide()">set</a>( <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('x - координата x')" onmouseout="hide()">x</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('y - координата y')" onmouseout="hide()">y</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('z - координата z')" onmouseout="hide()">z</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('w - координата w')" onmouseout="hide()">w</a></span> )</pre>
Устанавливает свойства <tt><a href="#x" onmouseover="show('Quaternion.x')" onmouseout="hide()">x</a></tt>, <tt><a href="#y" onmouseover="show('Quaternion.y')" onmouseout="hide()">y</a></tt>, <tt><a href="#z" onmouseover="show('Quaternion.z')" onmouseout="hide()">z</a></tt>, <tt><a href="#w" onmouseover="show('Quaternion.w')" onmouseout="hide()">w</a></tt> данного кватерниона.<br><br>

<pre id="setFromAxisAngle"><a href="#" onmouseover="show('Quaternion.<br>set from axis angle - установить по оси (и) углу')" onmouseout="hide()">.setFromAxisAngle</a>( <a href="vector3.htm" onmouseover="show('Vector3.<br>axis - ось')" onmouseout="hide()">axis</a>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('angle - угол')" onmouseout="hide()">angle</a></span> )</pre>
Устанавливает этот кватернион из вращения, заданного осью и углом.
Sets this quaternion from rotation specified by axis and angle.<br>
Adapted from <a href="http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm" target="_blank">http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm</a>.<br>
Предполагается, что оси (<tt>axis</tt>) нормализованы, а угол (<tt>angle</tt>) представлен в радианах.<br><br>

<pre id="setFromEuler"><a href="#" onmouseover="show('Quaternion.<br>set from Euler - установить по (углу) Эйлера')" onmouseout="hide()">.setFromEuler</a>( <a href="euler.htm" onmouseover="show('Euler.<br>euler - (угол) Эйлера')" onmouseout="hide()">euler</a> )</pre>
Устанавливает этот кватернион из угла поворота, задаваемого углом Эйлера в аргументе <tt>euler</tt>.<br><br>

<pre id="setFromRotationMatrix"><a href="#" onmouseover="show('Quaternion.<br>set from rotation matrix -<br>установить по матрице вращения')" onmouseout="hide()">.setFromRotationMatrix</a>( <a href="matrix4.htm" onmouseover="show('Matrix4.<br>сокращ. англ. слова matrix - матрица')" onmouseout="hide()">m</a> )</pre>
Устанавливает этот кватернион по компоненту вращения матрицы&nbsp;<tt>m</tt>.<br>
Adapted from <a href="http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm" target="_blank">http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm</a>.<br><br>

<pre id="setFromUnitVectors"><a href="#" onmouseover="show('Quaternion.<br>set from unit vectors -<br>установить по единичным<br>векторам')" onmouseout="hide()">.setFromUnitVectors</a>( <a href="vector3.htm" onmouseover="show('Vector3<br>сокращ. англ. слов vector from - вектор из')" onmouseout="hide()">vFrom</a>, <a href="vector3.htm" onmouseover="show('Vector3<br>сокращ. англ. слов vector to - вектор для')" onmouseout="hide()">vTo</a> )</pre>
Sets this quaternion to the rotation required to rotate direction vector *vFrom* to direction vector *vTo*.<br>
Adapted from <a href="http://lolengine.net/blog/2013/09/18/beautiful-maths-quaternion-from-vectors" target="_blank">http://lolengine.net/blog/2013/09/18/beautiful-maths-quaternion-from-vectors</a>.<br>
*vFrom* and *vTo* are assumed to be normalized.<br><br>

<pre id="toArray"><span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('to array - в массив')" onmouseout="hide()">.toArray</a></span>( <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('array - массив')" onmouseout="hide()">array</a></span>, <span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('offset - смещение')" onmouseout="hide()">offset</a></span> )</pre>
<div class=list><tt>array</tt> -- дополнительный, необязательный массив для хранения кватерниона. Если этот параметр не указан, будет создан новый массив.</div>
<div class=list><tt>offset</tt> -- дополнительное, необязательное смещение в выходном массиве.</div>
Метод возвращает числовые элементы данного кватерниона как массив в формате <tt>[x, y, z, w]</tt>.</div><br>

<h4>Статические методы</h4>
Статические методы (в противоположность методам для отдельных экземпляров) разработаны для вызова непосредственно от класса, а не от отдельного экземпляра. Поэтому для использования статической версии метода, вызов делается так:
<pre>THREE.Quaternion.slerp( qStart, qEnd, qTarget, t );</pre>
Для сравнения, чтобы вызвать "обычный" или "экземплярный" метод <tt>slerp</tt> нужно сделать следующее:
<pre>// instantiate a quaternion with default values
// создаем экземпляр кватерниона со значениями по умолчанию
var q = new THREE.Quaternion();<br>
// call the instanced slerp method (вызов "экземплярного" метода slerp)
q.slerp( qb, t )</pre>
<div class=blockindent><br>
<pre id="stat_slerp"><a href="#" onmouseover="show('Quaternion.<br>сокращение от англ. слов spherical linear interpolation<br>- сферическая линейная интерполяция')" onmouseout="hide()">.slerp</a>( <a href="#" onmouseover="show('Quaternion.<br>сокращ. англ. слов starting quaternion - начальный кватернион')" onmouseout="hide()">qStart</a>, <a href="#" onmouseover="show('Quaternion.<br>сокращ. англ. слов ending quaternion - конечный кватернион')" onmouseout="hide()">qEnd</a>, <a href="#" onmouseover="show('Quaternion.<br>сокращ. англ. слов target quaternion - целевой кватернион')" onmouseout="hide()">qTarget</a>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('t - коэффициент интерполяции')" onmouseout="hide()">t</a></span> )</pre>
<div class=list><tt>qStart</tt> -- начальный кватернион (когда <tt>t</tt> равно <tt>0</tt>).</div>
<div class=list><tt>qEnd</tt> -- конечный кватернион (когда <tt>t</tt> равно <tt>1</tt>).</div>
<div class=list><tt>qTarget</tt> -- целевой кватернион, который устанавливается в результате операции.</div>
<div class=list><tt>t</tt> -- коэффициент интерполяции в замкнутом интервале <tt>[0, 1]</tt>.</div>
В отличие от обычного метода, статическая версия <tt>slerp</tt> в результате операции сферического линейного интерполирования устанавливает целевой кватернион.
<pre>// Code setup (код настройки)
  var startQuaternion = new THREE.Quaternion().set( 0, 0, 0, 1 ).normalize();
  var endQuaternion = new THREE.Quaternion().set( 1, 1, 1, 1 ).normalize();
  var t = 0;<br>
  // Update a mesh's rotation in the loop (обновление вращения сетки в цикле)
  t = ( t + 0.01 ) % 1; // constant angular momentum (постоянный угловой момент)
  THREE.Quaternion.slerp( startQuaternion, endQuaternion, mesh.quaternion, t );</pre><br>

<pre id="stat_slerpFlat"><span onclick="showClick(type_null)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('slerp flat - сокращ. англ. слов spherical linear<br>interpolation flat - сферическая линейная<br>интерполяция &#34;плоских&#34; (массивов чисел)')" onmouseout="hide()">.slerpFlat</a></span>( <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слова destination -<br>место назначения, конечный, целевой')" onmouseout="hide()">dst</a></span>, <span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слов destination offset -<br>целевое, конечное смещение, т.е.<br>смещение в выходном массиве')" onmouseout="hide()">dstOffset</a></span>, <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слова source источник, исходник<br>- здесь имеется ввиду начальный исходный массив<br>с коэффициентом интерполяции равным 0')" onmouseout="hide()">src0</a></span>, <span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слов source offset -<br>смещение в начальном исходном массиве<br>с коэффициентом интерполяции равным 0')" onmouseout="hide()">srcOffset0</a></span>, <span onclick="showClick(type_array)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слова source источник, исходник,<br>здесь имеется ввиду целевой исходный массив<br>с коэффициентом интерполяции равным 1')" onmouseout="hide()">src1</a></span>, <span onclick="showClick(type_int)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('сокращ. англ. слов source offset -<br>смещение в целевом исходном массиве<br>с коэффициентом интерполяции равным 1')" onmouseout="hide()">srcOffset1</a></span>, <span onclick="showClick(type_float)"><a href="#" onclick="return false" onblur="hideClick()" onmouseover="show('t - коэффициент интерполяции')" onmouseout="hide()">t</a></span> )</pre>
<div class=list><tt>dst</tt> -- выходной массив.</div>
<div class=list><tt>dstOffset</tt> -- смещение в выходном массиве.</div>
<div class=list><tt>src0</tt> -- исходный массив начального кватерниона.</div>
<div class=list><tt>srcOffset0</tt> -- смещение в массиве <tt>src0</tt>.</div>
<div class=list><tt>src1</tt> -- исходный массив целевого кватерниона.</div>
<div class=list><tt>srcOffset1</tt> -- смещение в массиве <tt>src1</tt>.</div>
<div class=list><tt>t</tt> -- коэффициент интерполяции в замкнутом интервале <tt>[0, 1]</tt>.</div>
Работает также как и статический метод <tt>slerp</tt>, описанный выше, но оперирует непосредственно с "плоскими" массивами чисел.</div><br>

<h4>Исходники</h4>
<div class=blockindent><a href="https://github.com/mrdoob/three.js/tree/dev/src/math/Quaternion.js" target="_blank">Quaternion.js на Гитхабе</a></div><br><br>

<br><br>
</body></html>
